<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cafe by Eelda</title>
    <link rel="stylesheet" type="text/css" href = "index.css"/>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary-color: #e6d5c3;
        --secondary-color: #d4bea3;
        --accent-color: #a67f5c;
        --text-color: #4a4039;
        --light-bg: #f7f2ed;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background-color: var(--light-bg);
        color: var(--text-color);
        line-height: 1.6;
      }

      .navbar {
        background-color: var(--primary-color) !important;
        padding: 1rem;
        transition: all 0.3s ease;
      }

      .navbar-scrolled {
        background-color: rgba(230, 213, 195, 0.95) !important;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .navbar-brand img { 
        height: 100px;
        width: auto;
      }

      .nav-link {
        color: var(--text-color) !important;
        font-weight: 500;
        transition: color 0.3s ease;
        margin: 0 1rem;
      }

      .nav-link:hover {
        color: var(--accent-color) !important;
      }
      .audio-player-container {
        transition: all 0.3s ease;
      }

      .audio-player-container:hover {
        transform: scale(1.05);
      }

      #toggleMusic {
        transition: all 0.2s ease;
      }

      #toggleMusic:hover {
        opacity: 0.8;
      }

      .hero {
        height: 100vh;
        background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),
          url("images/wallpaper2.png") center/cover;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        color: white;
        padding-top: 80px;
      }

      .hero h1 {
        font-size: 3.5rem;
        font-weight: 700;
      }

      .card {
        border: none;
        border-radius: 15px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        background-color: var(--light-bg);
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .card-img-top {
        height: 250px;
        object-fit: cover;
      }

      .category-title {
        color: var(--accent-color);
        border-bottom: 2px solid var(--primary-color);
        padding-bottom: 0.5rem;
        margin-bottom: 2rem;
      }

      .price-badge {
        background-color: var(--accent-color);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-weight: 500;
      }

      .menu-list-item {
        background-color: white;
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease;
      }

      .menu-list-item:hover {
        transform: translateX(5px);
      }

      .contact-form .form-control {
        border: 1px solid var(--primary-color);
        padding: 0.8rem;
        margin-bottom: 1rem;
      }

      .btn-primary {
        background-color: var(--accent-color);
        border: none;
        padding: 0.8rem 2rem;
        font-weight: 500;
      }

      .btn-primary:hover {
        background-color: var(--text-color);
      }

      .social-links a {
        color: var(--accent-color);
        font-size: 1.5rem;
        margin: 0 1rem;
        transition: color 0.3s ease;
      }

      .social-links a:hover {
        color: var(--text-color);
      }

      .menu-item-description {
        font-size: 0.9rem;
        color: #666;
      }

      .floating-music-player {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
      }

      .music-toggle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: var(--accent-color);
        color: white;
        border: none;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }

      .music-toggle:hover {
        transform: scale(1.1);
      }

      .modal-custom {
        background-color: var(--light-bg);
      }

      .guestbook-entry {
        background-color: white;
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      @media (max-width: 768px) {
        .hero h1 {
          font-size: 2.5rem;
        }

        .navbar-nav {
          background-color: var(--primary-color);
          padding: 1rem;
          border-radius: 10px;
          margin-top: 1rem;
        }
      }
      .cart-count {
        position: absolute;
        top: -8px;
        right: -8px;
        background-color: var(--accent-color);
        color: white;
        border-radius: 50%;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        display: none;
      }

      .cart-count.badge-visible {
        display: inline-block;
      }

      .lead {
        font-size: 1.2rem;
        line-height: 1.8;
    }

    video {
        transition: transform 0.3s ease;
    }

    video:hover {
        transform: scale(1.02);
    }

    @media (max-width: 991px) {
        .col-lg-6 {
            margin-bottom: 2rem;
        }
        .col-lg-6:last-child {
            margin-bottom: 0;
        }
    }

    [data-aos] {
        opacity: 0;
        transition-property: opacity, transform;
    }

    [data-aos].aos-animate {
        opacity: 1;
    }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img src="images/logo.png" alt="Cafe by Eelda Logo" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#home">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#history">History</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#menu">Menu</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
      <div class="container">
        <div data-aos="fade-up">
          <h1 class="mb-4" style="font-family: Georgia, 'Times New Roman', Times, serif;"><i>Café</i> by Eelda</h1>
          <p class="lead mb-4" style="font-family: Arial, Helvetica, sans-serif">
            Welcome to <i>Café</i> by Eelda , where every cup is brewed with local bean and every bite is made from love to delight
          </p>
          <a href="#menu" class="btn btn-light btn-lg">View Menu</a>
        </div>
      </div>
      <!-- Background Music Player -->
      <div class="floating-music-player">
        <audio id="bgMusic" loop>
            <source src="music/Slow Jazz Cafe.mp3" type="audio/mp3">
            Your browser does not support the audio element.
        </audio>
        <button id="toggleMusic" class="music-toggle">
            <span id="musicIcon" class="material-icons">play_circle</span>
            <!-- <span id="musicText">Play</span> -->
        </button>
    </div>
    </section>
    <section class="py-5" id="history" style="background-color: var(--light-bg);">
      <div class="container">
          <div class="row align-items-center">
              <!-- Left side - Text content -->
              <div class="col-lg-6" data-aos="fade-right">
                  <h2 class="mb-4" style="color: var(--accent-color);">Our Story</h2>
                  <p class="lead mb-4" style="color: var(--text-color);">
                      Welcome to Cafe by Eelda, where every cup tells a story and every visit creates a memory. Our cafe is more than just a place to drink coffee – it's a sanctuary where comfort meets creativity.
                  </p>
                  <div class="mb-4">
                      <p style="color: var(--text-color);">
                        Cafe by Eelda uses premium, ethically sourced coffee beans to ensure that every cup served is a delightful experience for its customers.we prioritize high-quality, sustainably sourced beans. Our beans come from local trusted coffee farms , where farmers are paid fair wages and use environmentally friendly practices. This ensures not only the finest quality but also a positive impact on the communities we support.Whether light, medium, or dark, our roasting process is tailored to bring out the unique characteristics of each bean.With our high-quality beans, we can ensure that every cup is consistently excellent.
                      </p>
                      <p style="color: var(--text-color);">
                          Join us in this journey of flavors, where traditional coffee-making meets modern innovation, all served with a warm smile in a cozy atmosphere.
                      </p>
                  </div>
                  <a href="#menu" class="btn btn-primary">Explore Our Menu</a>
              </div>
              
              <!-- Right side - Video -->
              <div class="col-lg-6" data-aos="fade-left">
                  <div class="position-relative" style="border-radius: 15px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                      <!-- Replace 'your-video.mp4' with your actual video file -->
                      <video 
                          class="w-100" 
                          style="border-radius: 15px;"
                          controls
                          autoplay
                          muted
                          loop>
                          <source src="video/Coffee Vid.mp4" type="video/mp4">
                          Your browser does not support the video tag.
                      </video>
                  </div>
              </div>
          </div>
      </div>
  </section>

    <!-- Menu Section -->
    <section class="py-5" id="menu">
      <div class="container">
        <h2 class="text-center mb-5" data-aos="fade-up">Our Menu</h2>

        <!-- Hot Drinks -->
        <div class="mb-5" data-aos="fade-up" id="hot-drinks">
          <h3 class="category-title">Hot Drinks</h3>
          <div class="row g-4">
            <!-- Hot Drinks Items -->
            <div class="col-md-6 col-lg-3">
              <div class="card h-100">
                <img
                  src="images/hot/espresso.jpg"
                  class="card-img-top"
                  alt="Espresso"
                />
                <div class="card-body">
                  <div
                    class="d-flex justify-content-between align-items-center mb-3"
                  >
                    <h5 class="card-title mb-0">Espresso</h5>
                    <span class="price-badge">$2.00</span>
                  </div>
                  <p class="menu-item-description">
                    Consectetur adipiscing elit, sed do eiusmod tempor.
                  </p>
                  <!-- <button class="btn btn-primary add-to-cart w-100 mt-3" 
                                    data-id="espresso" 
                                    data-name="Espresso" 
                                    data-price="2.00">
                                <i class="fas fa-cart-plus me-2"></i>Add to Cart
                            </button> -->
                </div>
              </div>
            </div>

            <div class="col-md-6 col-lg-3">
              <div class="card h-100">
                <img
                  src="images/hot/double-espresso.jpg"
                  class="card-img-top"
                  alt="Double Espresso"
                />
                <div class="card-body">
                  <div
                    class="d-flex justify-content-between align-items-center mb-3"
                  >
                    <h5 class="card-title mb-0">Double Espresso</h5>
                    <span class="price-badge">$2.50</span>
                  </div>
                  <p class="menu-item-description">
                    Reprehenderit in voluptate velit esse cillum dolore eu.
                  </p>
                  <button
                    class="btn btn-primary add-to-cart w-100 mt-3"
                    data-id="double-espresso"
                    data-name="Double Espresso"
                    data-price="2.50"
                  >
                    <i class="fas fa-cart-plus me-2"></i>Add to Cart
                  </button>
                </div>
              </div>
            </div>

            <!-- Add remaining hot drinks similarly -->
          </div>
        </div>

        <!-- Cold Drinks -->
        <div class="mb-5" data-aos="fade-up" id="cold-drinks">
          <h3 class="category-title">Cold Drinks</h3>
          <div class="row g-4">
            <div class="col-md-6 col-lg-3">
              <div class="card h-100">
                <img
                  src="images/cold/affogato.jpg"
                  class="card-img-top"
                  alt="Affogato"
                />
                <div class="card-body">
                  <div
                    class="d-flex justify-content-between align-items-center mb-3"
                  >
                    <h5 class="card-title mb-0">Affogato</h5>
                    <span class="price-badge">$6.00</span>
                  </div>
                  <p class="menu-item-description">
                    Reprehenderit in voluptate velit esse cillum dolore eu.
                  </p>
                  <button
                    class="btn btn-primary add-to-cart w-100 mt-3"
                    data-id="affogato"
                    data-name="Affogato"
                    data-price="6.00"
                  >
                    <i class="fas fa-cart-plus me-2"></i>Add to Cart
                  </button>
                </div>
              </div>
            </div>
            <!-- Add remaining cold drinks -->
          </div>
        </div>

        <!-- Food Section -->
        <div class="mb-5" data-aos="fade-up" id="food">
          <h3 class="category-title">Food</h3>
          <div class="menu-list">
            <div class="menu-list-item">
              <div
                class="d-flex justify-content-between align-items-center mb-2"
              >
                <h5 class="mb-0">Chicken Sandwich</h5>
                <span class="price-badge">$13.00</span>
              </div>
              <p class="mb-0">
                Chicken, Tomato, Lettuce, Onion, Wheat Bread, Cheese, With
                special secret sauce from our family recipe.
              </p>
              <button
                class="btn btn-primary add-to-cart mt-3"
                data-id="chicken-sandwich"
                data-name="Chicken Sandwich"
                data-price="13.00"
              >
                <i class="fas fa-cart-plus me-2"></i>Add to Cart
              </button>
            </div>
            <!-- Add remaining food items -->
          </div>
        </div>

        <!-- Dessert Section -->
        <div data-aos="fade-up" id="dessert">
          <h3 class="category-title">Desserts</h3>
          <div class="menu-list">
            <div class="menu-list-item">
              <div
                class="d-flex justify-content-between align-items-center mb-2"
              >
                <h5 class="mb-0">Chocolate Waffle</h5>
                <span class="price-badge">$4.50</span>
              </div>
              <p class="mb-0">
                Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                labore et dolore magna aliqua.
              </p>
              <!-- <button class="btn btn-primary add-to-cart mt-3" 
                            data-id="chocolate-waffle" 
                            data-name="Chocolate Waffle" 
                            data-price="4.50">
                        <i class="fas fa-cart-plus me-2"></i>Add to Cart
                    </button> -->
            </div>
            <!-- Add remaining dessert items -->
          </div>
        </div>

        <!-- Cookies Section -->
        <div class="mb-5" data-aos="fade-up" id="cookies">
          <h3 class="category-title">Cookies</h3>
          <div class="row g-4">
            <div class="col-md-6 col-lg-3">
              <div class="card h-100">
                <img
                  src="images/cold/affogato.jpg"
                  class="card-img-top"
                  alt="Affogato"
                />
                <div class="card-body">
                  <div
                    class="d-flex justify-content-between align-items-center mb-3"
                  >
                    <h5 class="card-title mb-0">Affogato</h5>
                    <span class="price-badge">$6.00</span>
                  </div>
                  <p class="menu-item-description">
                    Reprehenderit in voluptate velit esse cillum dolore eu.
                  </p>
                  <button
                    class="btn btn-primary add-to-cart w-100 mt-3"
                    data-id="affogato"
                    data-name="Affogato"
                    data-price="6.00"
                  >
                    <i class="fas fa-cart-plus me-2"></i>Add to Cart
                  </button>
                </div>
              </div>
            </div>
            <!-- Add remaining cold drinks -->
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section class="pt-5 bg-light" id="contact">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 text-center">
            <div class="social-links mb-4">
              <a
                href="https://www.instagram.com/anisscafe/profilecard/?igsh=MXBlamZ0YzlwZ2Vncw=="
                target="_blank"
                ><i class="fab fa-instagram"></i
              ></a>
              <a href="https://www.tiktok.com/@anisscafe?_t=ZS-8sSYH3NsWSW&_r=1"
                ><i class="fab fa-tiktok"></i
              ></a>
              <a href="tel:+01160807996"><i class="fas fa-phone"></i></a>
              <a
                href="feedback.html"
                target="_blank"
                ><i class="fa-solid fa-comments"></i>
              ></a>
            </div>
            <div class="contact-info mb-4">
              
              <p>
                Visit us at:
                <a
                  style="text-decoration: none; color: black; font-weight: bold"
                  href="https://maps.google.com/maps/place//data=!4m2!3m1!1s0x31d1ef12f6a73685:0x804ea83e05dec685?entry=s&sa=X&ved=1t:8290&hl=en-my&ictx=111"
                  ><i>Café</i> by Eelda</a
                >
              </p>
              <p>Contact: +01160807996</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Add this inside your navbar, before the closing </ul> -->

    <!-- Footer -->
    <footer class="bg-light pb-4">
      
      <div class="container text-center">
        <p class="mb-0">&copy; 2024 Cafe by Eelda. All rights reserved.</p>
      </div>
    </footer>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="data/data.js"></script>
    <script>
      // Wait for the DOM to be fully loaded
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize AOS animations
        AOS.init({
          duration: 1000,
          once: true,
          offset: 100,
        });

        initializeTooltips();
        setupScrollEffects();
        setupMusicPlayer();
        setupGuestbook();
        setupContactForm();
        setupMenuFilters();
        setupImageLazyLoading();
        setupMobileMenu();
        setupCartFunctionality();
      });

      // Initialize Bootstrap tooltips
      function initializeTooltips() {
        const tooltipTriggerList = [].slice.call(
          document.querySelectorAll('[data-bs-toggle="tooltip"]')
        );
        tooltipTriggerList.map(function (tooltipTriggerEl) {
          return new bootstrap.Tooltip(tooltipTriggerEl);
        });
      }

      // Scroll effects and navbar handling
      function setupScrollEffects() {
        // Navbar scroll effect
        window.addEventListener("scroll", function () {
          const navbar = document.querySelector(".navbar");
          if (window.scrollY > 50) {
            navbar.classList.add("navbar-scrolled");
          } else {
            navbar.classList.remove("navbar-scrolled");
          }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute("href"));
            if (target) {
              target.scrollIntoView({
                behavior: "smooth",
                block: "start",
              });
            }
          });
        });
      }

      // Background music player functionality
      function setupMusicPlayer() {
        const bgMusic = document.getElementById("bg-music");
        const musicToggle = document.getElementById("music-toggle");
        let isPlaying = false;

        if (musicToggle && bgMusic) {
          musicToggle.addEventListener("click", function () {
            if (isPlaying) {
              bgMusic.pause();
              this.innerHTML = '<i class="fas fa-volume-mute"></i>';
            } else {
              bgMusic.play().catch(function (error) {
                console.log("Audio play failed:", error);
              });
              this.innerHTML = '<i class="fas fa-volume-up"></i>';
            }
            isPlaying = !isPlaying;
          });
        }
      }

      // Guestbook functionality
      function setupGuestbook() {
        const guestbookForm = document.getElementById("guestbook-form");
        const guestbookEntries = document.getElementById("guestbook-entries");
        let entries = [];

        if (guestbookForm) {
          guestbookForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const name = this.querySelector("#guest-name").value;
            const message = this.querySelector("#guest-message").value;

            if (name && message) {
              const entry = {
                name: name,
                message: message,
                date: new Date().toLocaleDateString(),
              };

              entries.unshift(entry);
              updateGuestbookDisplay();
              this.reset();
              showToast("Thank you for signing our guestbook!");
            }
          });
        }

        function updateGuestbookDisplay() {
          if (guestbookEntries) {
            guestbookEntries.innerHTML = entries
              .map(
                (entry) => `
                <div class="guestbook-entry" data-aos="fade-up">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="mb-0">${escapeHtml(entry.name)}</h5>
                        <small class="text-muted">${entry.date}</small>
                    </div>
                    <p class="mb-0">${escapeHtml(entry.message)}</p>
                </div>
            `
              )
              .join("");
          }
        }
      }

      // Contact form handling
      function setupContactForm() {
        const contactForm = document.getElementById("contact-form");

        if (contactForm) {
          contactForm.addEventListener("submit", function (e) {
            e.preventDefault();

            if (validateForm(this)) {
              // Here you would typically send the form data to a server
              showToast("Message sent successfully!");
              this.reset();
            }
          });
        }
      }

      // Form validation
      function validateForm(form) {
        let isValid = true;
        const inputs = form.querySelectorAll("input, textarea");

        inputs.forEach((input) => {
          if (input.hasAttribute("required") && !input.value.trim()) {
            isValid = false;
            input.classList.add("is-invalid");
          } else {
            input.classList.remove("is-invalid");
          }

          // Email validation
          if (input.type === "email" && input.value) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(input.value)) {
              isValid = false;
              input.classList.add("is-invalid");
            }
          }
        });

        return isValid;
      }

      // Menu filtering system
      function setupMenuFilters() {
        const filterButtons = document.querySelectorAll(".menu-filter-btn");

        filterButtons.forEach((button) => {
          button.addEventListener("click", function () {
            const category = this.dataset.category;
            const menuItems = document.querySelectorAll(".menu-item");

            filterButtons.forEach((btn) => btn.classList.remove("active"));
            this.classList.add("active");

            menuItems.forEach((item) => {
              const itemCategory = item.dataset.category;
              if (category === "all" || category === itemCategory) {
                item.closest(".col").style.display = "block";
              } else {
                item.closest(".col").style.display = "none";
              }
            });
          });
        });
      }

      // Lazy loading for images
      function setupImageLazyLoading() {
        const lazyImages = document.querySelectorAll("img[data-src]");

        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.src = img.dataset.src;
              img.removeAttribute("data-src");
              observer.unobserve(img);
            }
          });
        });

        lazyImages.forEach((img) => imageObserver.observe(img));
      }

      // Mobile menu handling
      function setupMobileMenu() {
        const navbarToggler = document.querySelector(".navbar-toggler");
        const navbarCollapse = document.querySelector(".navbar-collapse");
        const navLinks = document.querySelectorAll(".nav-link");

        if (navbarToggler && navbarCollapse) {
          navbarToggler.addEventListener("click", function () {
            navbarCollapse.classList.toggle("show");
          });

          navLinks.forEach((link) => {
            link.addEventListener("click", function () {
              if (window.innerWidth < 992) {
                // Bootstrap's lg breakpoint
                navbarCollapse.classList.remove("show");
              }
            });
          });
        }
      }

      // Shopping cart functionality
      function setupCartFunctionality() {
        let cart = [];
        const cartCount = document.querySelector(".cart-count");

        document.querySelectorAll(".add-to-cart").forEach((button) => {
          button.addEventListener("click", function (e) {
            e.preventDefault();
            const itemId = this.dataset.id;
            const itemName = this.dataset.name;
            const itemPrice = parseFloat(this.dataset.price);

            addToCart(itemId, itemName, itemPrice);
            updateCartDisplay();
            updateCartCount();
            showToast(`${itemName} added to cart!`);
          });
        });

        function updateCartCount() {
          // Find the cart count element
          const cartCount = document.querySelector(".cart-count");

          if (cartCount) {
            // Calculate total items in cart
            const totalItems = cart.reduce(
              (sum, item) => sum + item.quantity,
              0
            );

            // Update the counter text
            cartCount.textContent = totalItems;

            // Handle visibility
            if (totalItems > 0) {
              cartCount.classList.remove("cart-empty");

              // Add a small animation when updating
              cartCount.style.transform = "scale(1.2)";
              setTimeout(() => {
                cartCount.style.transform = "scale(1)";
              }, 200);
            } else {
              cartCount.classList.add("cart-empty");
            }

            // Also update total in modal if it exists
            const cartTotal = document.getElementById("cart-total");
            if (cartTotal) {
              const total = cart.reduce(
                (sum, item) => sum + item.price * item.quantity,
                0
              );
              cartTotal.textContent = `$${total.toFixed(2)}`;
            }
          }
        }

        function addToCart(id, name, price) {
          const existingItem = cart.find((item) => item.id === id);

          if (existingItem) {
            existingItem.quantity += 1;
          } else {
            cart.push({
              id: id,
              name: name,
              price: price,
              quantity: 1,
            });
          }
        }

        function updateCartDisplay() {
          const cartElement = document.getElementById("cart-items");
          const cartTotal = document.getElementById("cart-total");

          if (cartElement) {
            cartElement.innerHTML = cart
              .map(
                (item) => `
                <div class="cart-item" data-id="${item.id}">
                    <div class="cart-item-details">
                        <h6 class="mb-0">${item.name}</h6>
                        <div class="quantity-controls">
                            <button class="btn btn-sm btn-quantity decrease" data-id="${
                              item.id
                            }">-</button>
                            <span class="quantity mx-2">${item.quantity}</span>
                            <button class="btn btn-sm btn-quantity increase" data-id="${
                              item.id
                            }">+</button>
                        </div>
                    </div>
                    <div class="cart-item-price">
                        <span>$${(item.price * item.quantity).toFixed(2)}</span>
                        <button class="btn btn-sm btn-remove" data-id="${
                          item.id
                        }">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `
              )
              .join("");

            // Update total
            if (cartTotal) {
              const total = cart.reduce(
                (sum, item) => sum + item.price * item.quantity,
                0
              );
              cartTotal.textContent = `$${total.toFixed(2)}`;
            }

            // Add event listeners for quantity controls
            setupQuantityControls();
          }
        }

        function setupQuantityControls() {
          // Increase quantity
          document.querySelectorAll(".increase").forEach((btn) => {
            btn.addEventListener("click", function () {
              const id = this.dataset.id;
              const item = cart.find((item) => item.id === id);
              if (item) {
                item.quantity += 1;
                updateCartDisplay();
                updateCartCount();
              }
            });
          });

          // Decrease quantity
          document.querySelectorAll(".decrease").forEach((btn) => {
            btn.addEventListener("click", function () {
              const id = this.dataset.id;
              const item = cart.find((item) => item.id === id);
              if (item) {
                if (item.quantity > 1) {
                  item.quantity -= 1;
                } else {
                  cart = cart.filter((cartItem) => cartItem.id !== id);
                }
                updateCartDisplay();
                updateCartCount();
              }
            });
          });

          // Remove item
          document.querySelectorAll(".btn-remove").forEach((btn) => {
            btn.addEventListener("click", function () {
              const id = this.dataset.id;
              cart = cart.filter((item) => item.id !== id);
              updateCartDisplay();
              updateCartCount();
            });
          });
        }
        updateCartDisplay();
        updateCartCount();
        function updateCartDisplay() {
          const cartElement = document.getElementById("cart-items");
          if (cartElement) {
            cartElement.innerHTML = cart
              .map(
                (item) => `
                <div class="cart-item">
                    <span>${item.name} x ${item.quantity}</span>
                    <span>$${(item.price * item.quantity).toFixed(2)}</span>
                </div>
            `
              )
              .join("");
          }
        }
      }

      // Toast notification system
      function showToast(message) {
        const toastContainer =
          document.querySelector(".toast-container") || createToastContainer();
        const toast = createToastElement(message);

        toastContainer.appendChild(toast);
        const bsToast = new bootstrap.Toast(toast);
        bsToast.show();

        // Remove toast after it's hidden
        toast.addEventListener("hidden.bs.toast", function () {
          toast.remove();
        });
      }

      function createToastContainer() {
        const container = document.createElement("div");
        container.className =
          "toast-container position-fixed bottom-0 end-0 p-3";
        document.body.appendChild(container);
        return container;
      }

      function createToastElement(message) {
        const toast = document.createElement("div");
        toast.className = "toast";
        toast.setAttribute("role", "alert");
        toast.setAttribute("aria-live", "assertive");
        toast.setAttribute("aria-atomic", "true");

        toast.innerHTML = `
        <div class="toast-header">
            <strong class="me-auto">Cafe by Eelda</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            ${escapeHtml(message)}
        </div>
    `;

        return toast;
      }

      // Utility function to escape HTML and prevent XSS
      function escapeHtml(unsafe) {
        return unsafe
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#039;");
      }

      // Handle window resize events
      window.addEventListener("resize", function () {
        if (window.innerWidth >= 992) {
          const navbarCollapse = document.querySelector(".navbar-collapse");
          if (navbarCollapse) {
            navbarCollapse.classList.remove("show");
          }
        }
      });

      // Page load animations
      window.addEventListener("load", function () {
        const preloader = document.querySelector(".preloader");
        if (preloader) {
          preloader.classList.add("fade-out");
          setTimeout(() => {
            preloader.style.display = "none";
          }, 500);
        }
      });
    </script>
    <script>
      function setupMusicPlayer() {
    const audio = document.getElementById('bgMusic');
    const toggleButton = document.getElementById('toggleMusic');
    const musicIcon = document.getElementById('musicIcon');
    const musicText = document.getElementById('musicText');
    let isPlaying = false;

    if (audio && toggleButton) {
        // Set initial volume
        audio.volume = 0.100;

        toggleButton.addEventListener('click', function() {
            if (!isPlaying) {
                // Create a promise to play the audio
                const playPromise = audio.play();

                if (playPromise !== undefined) {
                    playPromise
                        .then(() => {
                            isPlaying = true;
                            musicIcon.textContent = 'pause_circle';
                            musicText.textContent = 'Pause';
                        })
                        .catch(error => {
                            console.error("Audio play failed:", error);
                        });
                }
            } else {
                audio.pause();
                isPlaying = false;
                musicIcon.textContent = 'play_circle';
                musicText.textContent = 'Play';
            }
        });

        // Handle audio ending
        audio.addEventListener('ended', function() {
            if (audio.loop) {
                audio.play().catch(error => console.error("Audio loop failed:", error));
            } else {
                isPlaying = false;
                musicIcon.textContent = 'play_circle';
                musicText.textContent = 'Play';
            }
        });
    }
}

// Call the setup function when the document is loaded
document.addEventListener('DOMContentLoaded', setupMusicPlayer);
    </script>
  </body>
</html>
